const ComponentManager={componentCollection:{},instanceCollection:[],init(){document.addEventListener("DOMContentLoaded",this.onLoad.bind(this))},onLoad(){this.generateComponents(),this.observe()},generateComponents(){for(let e in this.componentCollection){let t=this.componentCollection[e];this.createAllInstance(t)}},observe(){new MutationObserver(e=>{e.forEach(e=>{e.removedNodes.length&&e.removedNodes.forEach(e=>{e.component&&e.component.unmounted()}),e.addedNodes.length&&e.addedNodes.forEach(e=>{let t=e.getAttribute(`${Component.CONST.COMPONENT_ATTRIBUTE}`);if(t){let n=this.componentCollection[t];this.createInstance(e,n)}})})}).observe(document.body,{childList:!0})},createAllInstance(e){document.querySelectorAll(`[${Component.CONST.COMPONENT_ATTRIBUTE}="${e.name}"]`).forEach(t=>{this.createInstance(t,e)})},createInstance(e,t){let n=new ComponentInstance(e,t.data,t.methods);e.component=n,n.mounted(),n.update()}};ComponentManager.init();class Component{constructor(e){ComponentManager.componentCollection[e.name]=e}}Component.CONST={COMPONENT_ATTRIBUTE:"data-component"};class ComponentInstance{constructor(e,t,n){this.element=e;for(let e in t)Object.defineProperty(this,e,{get(){return this[`_${e}`]},set(t){this[`_${e}`]=t,this.update()}}),this[e]=t[e];for(let e in n)this[e]=n[e]}mounted(){}unmounted(){}update(){}}